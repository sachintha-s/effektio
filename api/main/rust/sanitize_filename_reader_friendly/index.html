<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Converts strings in a file system friendly and human readable form."><meta name="keywords" content="rust, rustlang, rust-lang, sanitize_filename_reader_friendly"><title>sanitize_filename_reader_friendly - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../sanitize_filename_reader_friendly/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../sanitize_filename_reader_friendly/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Crate sanitize_filename_reader_friendly</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 2.2.1</li><li><a id="all-types" href="all.html">All Items</a></li></div></ul><section><div class="block"><ul><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li></ul></div></section><div id="sidebar-vars" data-name="sanitize_filename_reader_friendly" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../sanitize_filename_reader_friendly/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">sanitize_filename_reader_friendly</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/sanitize_filename_reader_friendly/lib.rs.html#1-342">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Converts strings in a file system friendly and human readable form.</p>
<p>The algorithm replaces or deletes characters from the input stream using
various filters that are applied in the following sequential order:</p>
<ol>
<li>Replace all whitespace with space.</li>
<li>Filter all control characters.</li>
<li><code>REPLACE_ORIG_WITH_UNDERSCORE</code></li>
<li><code>REPLACE_ORIG_WITH_SPACE</code></li>
<li><code>FILTER_PROCESSED_AFTER_LAST_PROCESSED_WAS_SPACE</code></li>
<li><code>FILTER_PROCESSED_AFTER_LAST_PROCESSED_WAS_UNDERSCORE</code></li>
<li><code>FILTER_ORIG_AFTER_LAST_PROCESSED_WAS_WHITESPACE</code></li>
<li><code>FILTER_ORIG_NON_PRINTING_CHARS</code></li>
<li><code>TRIM_LINE_CHARS</code></li>
<li><code>INSERT_LINE_SEPARATOR</code></li>
<li><code>TRIM_END_LINES</code></li>
</ol>
<p>For details see the definition and documentation of the above (private) constants.</p>
<h2 id="rationale"><a href="#rationale">Rationale</a></h2>
<p>Exclude NTFS critical characters:       <code>&lt;&gt;:&quot;\/|?*</code> <br />
<a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247%28v=vs.85%29.aspx">https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247%28v=vs.85%29.aspx</a></p>
<p>These are considered unsafe in URLs:    <code>&lt;&gt;#%{}|\^~[]</code> ` <br />
<a href="https://perishablepress.com/stop-using-unsafe-characters-in-urls/">https://perishablepress.com/stop-using-unsafe-characters-in-urls/</a></p>
<p>New in version 2.0.0:
Do <strong>not</strong> exclude restricted in FAT32:    <code>+,;=[]</code>  <br />
<a href="https://en.wikipedia.org/wiki/Filename#Reserved_characters_and_words">https://en.wikipedia.org/wiki/Filename#Reserved_characters_and_words</a></p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">sanitize_filename_reader_friendly::sanitize</span>;
<span class="kw">let</span> <span class="ident">output</span> <span class="op">=</span> <span class="ident">sanitize</span>(<span class="string">&quot;Read: http://blog.getreu.net/projects/tp-note/&quot;</span>);
<span class="macro">assert_eq!</span>(<span class="ident">output</span>, <span class="string">&quot;Read_ http_blog.getreu.net_projects_tp-note&quot;</span>);</code></pre></div>
<p>The output string’s length is guaranteed to be shorter or equal than the input
string’s length.</p>
</div></details><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.ALWAYS_REPLACED_OR_FILTERED_CHARS.html" title="sanitize_filename_reader_friendly::ALWAYS_REPLACED_OR_FILTERED_CHARS constant">ALWAYS_REPLACED_OR_FILTERED_CHARS</a></div><div class="item-right docblock-short"><p>A set of characters that is always replaced or filtered and will never
appear in the output stream. Please note that additionally to the above :
all <code>is_whitespace()</code> characters are always replaced by space and all
<code>is_control()</code> characters are always filtered.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.POTENTIALLY_REPLACED_CHARS.html" title="sanitize_filename_reader_friendly::POTENTIALLY_REPLACED_CHARS constant">POTENTIALLY_REPLACED_CHARS</a></div><div class="item-right docblock-short"><p>An unordered list of all characters that are potentially replaced under
certain conditions. Please note that additionally to the above : all
<code>is_whitespace()</code> characters are always replaced by space and all
<code>is_control()</code> characters are always filtered.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.TRIM_LINE_CHARS.html" title="sanitize_filename_reader_friendly::TRIM_LINE_CHARS constant">TRIM_LINE_CHARS</a></div><div class="item-right docblock-short"><p>Group characters into lines (separated by newlines) and trim both sides of
all lines by the set of the quoted characters. In addition to the listed
characters whitespace is trimmed too. As the filter operates line by line,
it guarantees, that none of the listed characters can appear at the
beginning or the at end of the output string.</p>
</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.sanitize.html" title="sanitize_filename_reader_friendly::sanitize fn">sanitize</a></div><div class="item-right docblock-short"><p>Converts strings in a file system friendly and human readable form.</p>
</div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="sanitize_filename_reader_friendly" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.61.0-nightly (3c17c84a3 2022-03-21)" ></div>
</body></html>