<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The `sled` embedded database! Implements `Deref&lt;Target = sled::Tree&gt;` to refer to a default keyspace / namespace / bucket."><meta name="keywords" content="rust, rustlang, rust-lang, Db"><title>Db in sled - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../sled/index.html"><div class="logo-container"><img src="https://raw.githubusercontent.com/spacejam/sled/master/art/tree_face_anti-transphobia.png" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../sled/index.html"><div class="logo-container">
                    <img src="https://raw.githubusercontent.com/spacejam/sled/master/art/tree_face_anti-transphobia.png" alt="logo"></div>
        </a><h2 class="location"><a href="#">Db</a></h2><div class="sidebar-elems"><section><div class="block"><h3 class="sidebar-title"><a href="#implementations">Associated Constants</a></h3><ul><li><a href="#associatedconstant.ALIGN">ALIGN</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#implementations">Methods</a></h3><ul><li><a href="#method.checksum">checksum</a></li><li><a href="#method.drop_tree">drop_tree</a></li><li><a href="#method.export">export</a></li><li><a href="#method.generate_id">generate_id</a></li><li><a href="#method.import">import</a></li><li><a href="#method.open_tree">open_tree</a></li><li><a href="#method.size_on_disk">size_on_disk</a></li><li><a href="#method.tree_names">tree_names</a></li><li><a href="#method.was_recovered">was_recovered</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#deref-methods-Tree">Methods from Deref&lt;Target=Tree&gt;</a></h3><ul><li><a href="#method.apply_batch">apply_batch</a></li><li><a href="#method.checksum">checksum</a></li><li><a href="#method.clear">clear</a></li><li><a href="#method.compare_and_swap">compare_and_swap</a></li><li><a href="#method.contains_key">contains_key</a></li><li><a href="#method.fetch_and_update">fetch_and_update</a></li><li><a href="#method.first">first</a></li><li><a href="#method.flush">flush</a></li><li><a href="#method.flush_async">flush_async</a></li><li><a href="#method.get">get</a></li><li><a href="#method.get_gt">get_gt</a></li><li><a href="#method.get_lt">get_lt</a></li><li><a href="#method.insert">insert</a></li><li><a href="#method.is_empty">is_empty</a></li><li><a href="#method.iter">iter</a></li><li><a href="#method.last">last</a></li><li><a href="#method.len">len</a></li><li><a href="#method.merge">merge</a></li><li><a href="#method.name">name</a></li><li><a href="#method.pop_max">pop_max</a></li><li><a href="#method.pop_min">pop_min</a></li><li><a href="#method.range">range</a></li><li><a href="#method.remove">remove</a></li><li><a href="#method.scan_prefix">scan_prefix</a></li><li><a href="#method.set_merge_operator">set_merge_operator</a></li><li><a href="#method.transaction">transaction</a></li><li><a href="#method.update_and_fetch">update_and_fetch</a></li><li><a href="#method.watch_prefix">watch_prefix</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#trait-implementations">Trait Implementations</a></h3><ul><li><a href="#impl-Clone">Clone</a></li><li><a href="#impl-Debug">Debug</a></li><li><a href="#impl-Deref">Deref</a></li><li><a href="#impl-Send">Send</a></li><li><a href="#impl-Sync">Sync</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul><li><a href="#impl-RefUnwindSafe">!RefUnwindSafe</a></li><li><a href="#impl-Unpin">Unpin</a></li><li><a href="#impl-UnwindSafe">!UnwindSafe</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#blanket-implementations">Blanket Implementations</a></h3><ul><li><a href="#impl-Any">Any</a></li><li><a href="#impl-Borrow%3CT%3E">Borrow&lt;T&gt;</a></li><li><a href="#impl-BorrowMut%3CT%3E">BorrowMut&lt;T&gt;</a></li><li><a href="#impl-From%3CT%3E">From&lt;T&gt;</a></li><li><a href="#impl-Into%3CU%3E">Into&lt;U&gt;</a></li><li><a href="#impl-Pointable">Pointable</a></li><li><a href="#impl-ToOwned">ToOwned</a></li><li><a href="#impl-TryFrom%3CU%3E">TryFrom&lt;U&gt;</a></li><li><a href="#impl-TryInto%3CU%3E">TryInto&lt;U&gt;</a></li></ul></div></section><h2 class="location"><a href="index.html">In sled</a></h2><div id="sidebar-vars" data-name="Db" data-ty="struct" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../sled/index.html">
                        <img src="https://raw.githubusercontent.com/spacejam/sled/master/art/tree_face_anti-transphobia.png" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Struct <a href="index.html">sled</a>::<wbr><a class="struct" href="#">Db</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/sled/db.rs.html#9-14">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust struct"><code>pub struct Db { /* private fields */ }</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The <code>sled</code> embedded database! Implements
<code>Deref&lt;Target = sled::Tree&gt;</code> to refer to
a default keyspace / namespace / bucket.</p>
</div></details><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><div id="implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/db.rs.html#60-438">source</a></span><a href="#impl" class="anchor"></a><h3 class="code-header in-band">impl <a class="struct" href="struct.Db.html" title="struct sled::Db">Db</a></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.open_tree" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/db.rs.html#135-158">source</a></span><a href="#method.open_tree" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.open_tree" class="fnname">open_tree</a>&lt;V:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;&gt;(&amp;self, name: V) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="struct" href="struct.Tree.html" title="struct sled::Tree">Tree</a>&gt;</h4></section></summary><div class="docblock"><p>Open or create a new disk-backed Tree with its own keyspace,
accessible from the <code>Db</code> via the provided identifier.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.drop_tree" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/db.rs.html#161-218">source</a></span><a href="#method.drop_tree" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.drop_tree" class="fnname">drop_tree</a>&lt;V:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;&gt;(&amp;self, name: V) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>&gt;</h4></section></summary><div class="docblock"><p>Remove a disk-backed collection.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.tree_names" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/db.rs.html#221-224">source</a></span><a href="#method.tree_names" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.tree_names" class="fnname">tree_names</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a>&gt;</h4></section></summary><div class="docblock"><p>Returns the trees names saved in this Db.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.was_recovered" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/db.rs.html#236-238">source</a></span><a href="#method.was_recovered" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.was_recovered" class="fnname">was_recovered</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns <code>true</code> if the database was
recovered from a previous process.
Note that database state is only
guaranteed to be present up to the
last call to <code>flush</code>! Otherwise state
is synced to disk periodically if the
<code>sync_every_ms</code> configuration option
is set to <code>Some(number_of_ms_between_syncs)</code>
or if the IO buffer gets filled to
capacity before being rotated.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.generate_id" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/db.rs.html#248-250">source</a></span><a href="#method.generate_id" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.generate_id" class="fnname">generate_id</a>(&amp;self) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;</h4></section></summary><div class="docblock"><p>Generate a monotonic ID. Not guaranteed to be
contiguous. Written to disk every <code>idgen_persist_interval</code>
operations, followed by a blocking flush. During recovery, we
take the last recovered generated ID and add 2x
the <code>idgen_persist_interval</code> to it. While persisting, if the
previous persisted counter wasn’t synced to disk yet, we will do
a blocking flush to fsync the latest counter, ensuring
that we will never give out the same counter twice.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.export" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/db.rs.html#295-315">source</a></span><a href="#method.export" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.export" class="fnname">export</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self<br>) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;&gt;&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;</h4></section></summary><div class="docblock"><p>A database export method for all collections in the <code>Db</code>,
for use in sled version upgrades. Can be used in combination
with the <code>import</code> method below on a database running a later
version.</p>
<h5 id="panics"><a href="#panics">Panics</a></h5>
<p>Panics if any IO problems occur while trying
to perform the export.</p>
<h5 id="examples"><a href="#examples">Examples</a></h5>
<p>If you want to migrate from one version of sled
to another, you need to pull in both versions
by using version renaming:</p>
<p><code>Cargo.toml</code>:</p>
<div class="example-wrap"><pre class="language-toml"><code>[dependencies]
sled = &quot;0.32&quot;
old_sled = { version = &quot;0.31&quot;, package = &quot;sled&quot; }</code></pre></div>
<p>and in your code, remember that old versions of
sled might have a different way to open them
than the current <code>sled::open</code> method:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">old</span> <span class="op">=</span> <span class="ident">old_sled::open</span>(<span class="string">&quot;my_old_db&quot;</span>)<span class="question-mark">?</span>;

<span class="comment">// may be a different version of sled,</span>
<span class="comment">// the export type is version agnostic.</span>
<span class="kw">let</span> <span class="ident">new</span> <span class="op">=</span> <span class="ident">sled::open</span>(<span class="string">&quot;my_new_db&quot;</span>)<span class="question-mark">?</span>;

<span class="kw">let</span> <span class="ident">export</span> <span class="op">=</span> <span class="ident">old</span>.<span class="ident">export</span>();
<span class="ident">new</span>.<span class="ident">import</span>(<span class="ident">export</span>);

<span class="macro">assert_eq!</span>(<span class="ident">old</span>.<span class="ident">checksum</span>()<span class="question-mark">?</span>, <span class="ident">new</span>.<span class="ident">checksum</span>()<span class="question-mark">?</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.import" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/db.rs.html#357-390">source</a></span><a href="#method.import" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.import" class="fnname">import</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;export: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;, impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;&gt;&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;<br>)</h4></section></summary><div class="docblock"><p>Imports the collections from a previous database.</p>
<h5 id="panics-1"><a href="#panics-1">Panics</a></h5>
<p>Panics if any IO problems occur while trying
to perform the import.</p>
<h5 id="examples-1"><a href="#examples-1">Examples</a></h5>
<p>If you want to migrate from one version of sled
to another, you need to pull in both versions
by using version renaming:</p>
<p><code>Cargo.toml</code>:</p>
<div class="example-wrap"><pre class="language-toml"><code>[dependencies]
sled = &quot;0.32&quot;
old_sled = { version = &quot;0.31&quot;, package = &quot;sled&quot; }</code></pre></div>
<p>and in your code, remember that old versions of
sled might have a different way to open them
than the current <code>sled::open</code> method:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let</span> <span class="ident">old</span> <span class="op">=</span> <span class="ident">old_sled::open</span>(<span class="string">&quot;my_old_db&quot;</span>)<span class="question-mark">?</span>;

<span class="comment">// may be a different version of sled,</span>
<span class="comment">// the export type is version agnostic.</span>
<span class="kw">let</span> <span class="ident">new</span> <span class="op">=</span> <span class="ident">sled::open</span>(<span class="string">&quot;my_new_db&quot;</span>)<span class="question-mark">?</span>;

<span class="kw">let</span> <span class="ident">export</span> <span class="op">=</span> <span class="ident">old</span>.<span class="ident">export</span>();
<span class="ident">new</span>.<span class="ident">import</span>(<span class="ident">export</span>);

<span class="macro">assert_eq!</span>(<span class="ident">old</span>.<span class="ident">checksum</span>()<span class="question-mark">?</span>, <span class="ident">new</span>.<span class="ident">checksum</span>()<span class="question-mark">?</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.checksum" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/db.rs.html#397-422">source</a></span><a href="#method.checksum" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.checksum" class="fnname">checksum</a>(&amp;self) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>&gt;</h4></section></summary><div class="docblock"><p>Returns the CRC32 of all keys and values
in this Db.</p>
<p>This is O(N) and locks all underlying Trees
for the duration of the entire scan.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.size_on_disk" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/db.rs.html#426-428">source</a></span><a href="#method.size_on_disk" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.size_on_disk" class="fnname">size_on_disk</a>(&amp;self) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;</h4></section></summary><div class="docblock"><p>Returns the on-disk size of the storage files
for this database.</p>
</div></details></div></details></div><h2 id="deref-methods-Tree" class="small-section-header"><span>Methods from <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/deref/trait.Deref.html" title="trait core::ops::deref::Deref">Deref</a>&lt;Target = <a class="struct" href="struct.Tree.html" title="struct sled::Tree">Tree</a>&gt;</span><a href="#deref-methods-Tree" class="anchor"></a></h2><div id="deref-methods-Tree-1"><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.insert" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#153-169">source</a></span><a href="#method.insert" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.insert" class="fnname">insert</a>&lt;K, V&gt;(&amp;self, key: K, value: V) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;V: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a>&gt;,&nbsp;</span></h4></section></summary><div class="docblock"><p>Insert a key to a new value, returning the last value if it
was set.</p>
<h5 id="examples-2"><a href="#examples-2">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="macro">vec!</span>[<span class="number">0</span>]), <span class="prelude-val">Ok</span>(<span class="prelude-val">None</span>));
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="macro">vec!</span>[<span class="number">1</span>]), <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>(<span class="ident">sled::IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>]))));</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.transaction" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#338-348">source</a></span><a href="#method.transaction" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.transaction" class="fnname">transaction</a>&lt;F, A, E&gt;(&amp;self, f: F) -&gt; <a class="type" href="transaction/type.TransactionResult.html" title="type sled::transaction::TransactionResult">TransactionResult</a>&lt;A, E&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(&amp;<a class="struct" href="transaction/struct.TransactionalTree.html" title="struct sled::transaction::TransactionalTree">TransactionalTree</a>) -&gt; <a class="type" href="transaction/type.ConflictableTransactionResult.html" title="type sled::transaction::ConflictableTransactionResult">ConflictableTransactionResult</a>&lt;A, E&gt;,&nbsp;</span></h4></section></summary><div class="docblock"><p>Perform a multi-key serializable transaction.</p>
<h5 id="examples-3"><a href="#examples-3">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// Use write-only transactions as a writebatch:</span>
<span class="ident">db</span>.<span class="ident">transaction</span>(<span class="op">|</span><span class="ident">tx_db</span><span class="op">|</span> {
    <span class="ident">tx_db</span>.<span class="ident">insert</span>(<span class="string">b&quot;k1&quot;</span>, <span class="string">b&quot;cats&quot;</span>)<span class="question-mark">?</span>;
    <span class="ident">tx_db</span>.<span class="ident">insert</span>(<span class="string">b&quot;k2&quot;</span>, <span class="string">b&quot;dogs&quot;</span>)<span class="question-mark">?</span>;
    <span class="prelude-val">Ok</span>(())
})<span class="question-mark">?</span>;

<span class="comment">// Atomically swap two items:</span>
<span class="ident">db</span>.<span class="ident">transaction</span>(<span class="op">|</span><span class="ident">tx_db</span><span class="op">|</span> {
    <span class="kw">let</span> <span class="ident">v1_option</span> <span class="op">=</span> <span class="ident">tx_db</span>.<span class="ident">remove</span>(<span class="string">b&quot;k1&quot;</span>)<span class="question-mark">?</span>;
    <span class="kw">let</span> <span class="ident">v1</span> <span class="op">=</span> <span class="ident">v1_option</span>.<span class="ident">unwrap</span>();
    <span class="kw">let</span> <span class="ident">v2_option</span> <span class="op">=</span> <span class="ident">tx_db</span>.<span class="ident">remove</span>(<span class="string">b&quot;k2&quot;</span>)<span class="question-mark">?</span>;
    <span class="kw">let</span> <span class="ident">v2</span> <span class="op">=</span> <span class="ident">v2_option</span>.<span class="ident">unwrap</span>();

    <span class="ident">tx_db</span>.<span class="ident">insert</span>(<span class="string">b&quot;k1&quot;</span>, <span class="ident">v2</span>)<span class="question-mark">?</span>;
    <span class="ident">tx_db</span>.<span class="ident">insert</span>(<span class="string">b&quot;k2&quot;</span>, <span class="ident">v1</span>)<span class="question-mark">?</span>;

    <span class="prelude-val">Ok</span>(())
})<span class="question-mark">?</span>;

<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="ident">db</span>.<span class="ident">get</span>(<span class="string">b&quot;k1&quot;</span>)<span class="question-mark">?</span>.<span class="ident">unwrap</span>(), <span class="string">b&quot;dogs&quot;</span>);
<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="ident">db</span>.<span class="ident">get</span>(<span class="string">b&quot;k2&quot;</span>)<span class="question-mark">?</span>.<span class="ident">unwrap</span>(), <span class="string">b&quot;cats&quot;</span>);</code></pre></div>
<p>A transaction may return information from
an intentionally-cancelled transaction by using
the abort function inside the closure in
combination with the try operator.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">sled</span>::{<span class="ident">transaction</span>::{<span class="ident">abort</span>, <span class="ident">TransactionError</span>, <span class="ident">TransactionResult</span>}, <span class="ident">Config</span>};

<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Debug</span>, <span class="ident">PartialEq</span>)]</span>
<span class="kw">struct</span> <span class="ident">MyBullshitError</span>;

<span class="kw">fn</span> <span class="ident">main</span>() -&gt; <span class="ident">TransactionResult</span><span class="op">&lt;</span>(), <span class="ident">MyBullshitError</span><span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="ident">config</span> <span class="op">=</span> <span class="ident">Config::new</span>().<span class="ident">temporary</span>(<span class="bool-val">true</span>);
    <span class="kw">let</span> <span class="ident">db</span> <span class="op">=</span> <span class="ident">config</span>.<span class="ident">open</span>()<span class="question-mark">?</span>;

    <span class="comment">// Use write-only transactions as a writebatch:</span>
    <span class="kw">let</span> <span class="ident">res</span> <span class="op">=</span> <span class="ident">db</span>.<span class="ident">transaction</span>(<span class="op">|</span><span class="ident">tx_db</span><span class="op">|</span> {
        <span class="ident">tx_db</span>.<span class="ident">insert</span>(<span class="string">b&quot;k1&quot;</span>, <span class="string">b&quot;cats&quot;</span>)<span class="question-mark">?</span>;
        <span class="ident">tx_db</span>.<span class="ident">insert</span>(<span class="string">b&quot;k2&quot;</span>, <span class="string">b&quot;dogs&quot;</span>)<span class="question-mark">?</span>;
        <span class="comment">// aborting will cause all writes to roll-back.</span>
        <span class="kw">if</span> <span class="bool-val">true</span> {
            <span class="ident">abort</span>(<span class="ident">MyBullshitError</span>)<span class="question-mark">?</span>;
        }
        <span class="prelude-val">Ok</span>(<span class="number">42</span>)
    }).<span class="ident">unwrap_err</span>();

    <span class="macro">assert_eq!</span>(<span class="ident">res</span>, <span class="ident">TransactionError::Abort</span>(<span class="ident">MyBullshitError</span>));
    <span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">get</span>(<span class="string">b&quot;k1&quot;</span>)<span class="question-mark">?</span>, <span class="prelude-val">None</span>);
    <span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">get</span>(<span class="string">b&quot;k2&quot;</span>)<span class="question-mark">?</span>, <span class="prelude-val">None</span>);

    <span class="prelude-val">Ok</span>(())
}</code></pre></div>
<p>Transactions also work on tuples of <code>Tree</code>s,
preserving serializable ACID semantics!
In this example, we treat two trees like a
work queue, atomically apply updates to
data and move them from the unprocessed <code>Tree</code>
to the processed <code>Tree</code>.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">sled::Transactional</span>;

<span class="kw">let</span> <span class="ident">unprocessed</span> <span class="op">=</span> <span class="ident">db</span>.<span class="ident">open_tree</span>(<span class="string">b&quot;unprocessed items&quot;</span>)<span class="question-mark">?</span>;
<span class="kw">let</span> <span class="ident">processed</span> <span class="op">=</span> <span class="ident">db</span>.<span class="ident">open_tree</span>(<span class="string">b&quot;processed items&quot;</span>)<span class="question-mark">?</span>;

<span class="comment">// An update somehow gets into the tree, which we</span>
<span class="comment">// later trigger the atomic processing of.</span>
<span class="ident">unprocessed</span>.<span class="ident">insert</span>(<span class="string">b&quot;k3&quot;</span>, <span class="string">b&quot;ligers&quot;</span>)<span class="question-mark">?</span>;

<span class="comment">// Atomically process the new item and move it</span>
<span class="comment">// between `Tree`s.</span>
(<span class="kw-2">&amp;</span><span class="ident">unprocessed</span>, <span class="kw-2">&amp;</span><span class="ident">processed</span>)
    .<span class="ident">transaction</span>(<span class="op">|</span>(<span class="ident">tx_unprocessed</span>, <span class="ident">tx_processed</span>)<span class="op">|</span> {
        <span class="kw">let</span> <span class="ident">unprocessed_item</span> <span class="op">=</span> <span class="ident">tx_unprocessed</span>.<span class="ident">remove</span>(<span class="string">b&quot;k3&quot;</span>)<span class="question-mark">?</span>.<span class="ident">unwrap</span>();
        <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">processed_item</span> <span class="op">=</span> <span class="string">b&quot;yappin&#39; &quot;</span>.<span class="ident">to_vec</span>();
        <span class="ident">processed_item</span>.<span class="ident">extend_from_slice</span>(<span class="kw-2">&amp;</span><span class="ident">unprocessed_item</span>);
        <span class="ident">tx_processed</span>.<span class="ident">insert</span>(<span class="string">b&quot;k3&quot;</span>, <span class="ident">processed_item</span>)<span class="question-mark">?</span>;
        <span class="prelude-val">Ok</span>(())
    })<span class="question-mark">?</span>;

<span class="macro">assert_eq!</span>(<span class="ident">unprocessed</span>.<span class="ident">get</span>(<span class="string">b&quot;k3&quot;</span>).<span class="ident">unwrap</span>(), <span class="prelude-val">None</span>);
<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="ident">processed</span>.<span class="ident">get</span>(<span class="string">b&quot;k3&quot;</span>).<span class="ident">unwrap</span>().<span class="ident">unwrap</span>(), <span class="string">b&quot;yappin&#39; ligers&quot;</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.apply_batch" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#376-380">source</a></span><a href="#method.apply_batch" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.apply_batch" class="fnname">apply_batch</a>(&amp;self, batch: <a class="struct" href="struct.Batch.html" title="struct sled::Batch">Batch</a>) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Create a new batched update that can be
atomically applied.</p>
<p>It is possible to apply a <code>Batch</code> in a transaction
as well, which is the way you can apply a <code>Batch</code>
to multiple <code>Tree</code>s atomically.</p>
<h5 id="examples-4"><a href="#examples-4">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="ident">db</span>.<span class="ident">insert</span>(<span class="string">&quot;key_0&quot;</span>, <span class="string">&quot;val_0&quot;</span>)<span class="question-mark">?</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">batch</span> <span class="op">=</span> <span class="ident">sled::Batch::default</span>();
<span class="ident">batch</span>.<span class="ident">insert</span>(<span class="string">&quot;key_a&quot;</span>, <span class="string">&quot;val_a&quot;</span>);
<span class="ident">batch</span>.<span class="ident">insert</span>(<span class="string">&quot;key_b&quot;</span>, <span class="string">&quot;val_b&quot;</span>);
<span class="ident">batch</span>.<span class="ident">insert</span>(<span class="string">&quot;key_c&quot;</span>, <span class="string">&quot;val_c&quot;</span>);
<span class="ident">batch</span>.<span class="ident">remove</span>(<span class="string">&quot;key_0&quot;</span>);

<span class="ident">db</span>.<span class="ident">apply_batch</span>(<span class="ident">batch</span>)<span class="question-mark">?</span>;
<span class="comment">// key_0 no longer exists, and key_a, key_b, and key_c</span>
<span class="comment">// now do exist.</span></code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.get" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#416-424">source</a></span><a href="#method.get" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.get" class="fnname">get</a>&lt;K:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;&gt;(&amp;self, key: K) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Retrieve a value from the <code>Tree</code> if it exists.</p>
<h5 id="examples-5"><a href="#examples-5">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>], <span class="macro">vec!</span>[<span class="number">0</span>])<span class="question-mark">?</span>;
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">get</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>]), <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>(<span class="ident">sled::IVec::from</span>(<span class="macro">vec!</span>[<span class="number">0</span>]))));
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">get</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>]), <span class="prelude-val">Ok</span>(<span class="prelude-val">None</span>));</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.remove" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#464-474">source</a></span><a href="#method.remove" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.remove" class="fnname">remove</a>&lt;K:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;&gt;(&amp;self, key: K) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Delete a value, returning the old value if it existed.</p>
<h5 id="examples-6"><a href="#examples-6">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>], <span class="macro">vec!</span>[<span class="number">1</span>]);
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">remove</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>]), <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>(<span class="ident">sled::IVec::from</span>(<span class="macro">vec!</span>[<span class="number">1</span>]))));
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">remove</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>]), <span class="prelude-val">Ok</span>(<span class="prelude-val">None</span>));</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.compare_and_swap" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#527-595">source</a></span><a href="#method.compare_and_swap" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.compare_and_swap" class="fnname">compare_and_swap</a>&lt;K, OV, NV&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;key: K, <br>&nbsp;&nbsp;&nbsp;&nbsp;old: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;OV&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;new: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;NV&gt;<br>) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="struct.CompareAndSwapError.html" title="struct sled::CompareAndSwapError">CompareAndSwapError</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;OV: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;NV: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a>&gt;,&nbsp;</span></h4></section></summary><div class="docblock"><p>Compare and swap. Capable of unique creation, conditional modification,
or deletion. If old is <code>None</code>, this will only set the value if it
doesn’t exist yet. If new is <code>None</code>, will delete the value if old is
correct. If both old and new are <code>Some</code>, will modify the value if
old is correct.</p>
<p>It returns <code>Ok(Ok(()))</code> if operation finishes successfully.</p>
<p>If it fails it returns:
- <code>Ok(Err(CompareAndSwapError(current, proposed)))</code> if operation
failed to setup a new value. <code>CompareAndSwapError</code> contains
current and proposed values.
- <code>Err(Error::Unsupported)</code> if the database is opened in read-only
mode.</p>
<h5 id="examples-7"><a href="#examples-7">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// unique creation</span>
<span class="macro">assert_eq!</span>(
    <span class="ident">db</span>.<span class="ident">compare_and_swap</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>], <span class="prelude-val">None</span> <span class="kw">as</span> <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="kw-2">&amp;</span>[<span class="ident">u8</span>]<span class="op">&gt;</span>, <span class="prelude-val">Some</span>(<span class="kw-2">&amp;</span>[<span class="number">10</span>])),
    <span class="prelude-val">Ok</span>(<span class="prelude-val">Ok</span>(()))
);

<span class="comment">// conditional modification</span>
<span class="macro">assert_eq!</span>(
    <span class="ident">db</span>.<span class="ident">compare_and_swap</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>], <span class="prelude-val">Some</span>(<span class="kw-2">&amp;</span>[<span class="number">10</span>]), <span class="prelude-val">Some</span>(<span class="kw-2">&amp;</span>[<span class="number">20</span>])),
    <span class="prelude-val">Ok</span>(<span class="prelude-val">Ok</span>(()))
);

<span class="comment">// failed conditional modification -- the current value is returned in</span>
<span class="comment">// the error variant</span>
<span class="kw">let</span> <span class="ident">operation</span> <span class="op">=</span> <span class="ident">db</span>.<span class="ident">compare_and_swap</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>], <span class="prelude-val">Some</span>(<span class="kw-2">&amp;</span>[<span class="number">30</span>]), <span class="prelude-val">Some</span>(<span class="kw-2">&amp;</span>[<span class="number">40</span>]));
<span class="macro">assert!</span>(<span class="ident">operation</span>.<span class="ident">is_ok</span>()); <span class="comment">// the operation succeeded</span>
<span class="kw">let</span> <span class="ident">modification</span> <span class="op">=</span> <span class="ident">operation</span>.<span class="ident">unwrap</span>();
<span class="macro">assert!</span>(<span class="ident">modification</span>.<span class="ident">is_err</span>());
<span class="kw">let</span> <span class="ident">actual_value</span> <span class="op">=</span> <span class="ident">modification</span>.<span class="ident">unwrap_err</span>();
<span class="macro">assert_eq!</span>(<span class="ident">actual_value</span>.<span class="ident">current</span>.<span class="ident">map</span>(<span class="op">|</span><span class="ident">ivec</span><span class="op">|</span> <span class="ident">ivec</span>.<span class="ident">to_vec</span>()), <span class="prelude-val">Some</span>(<span class="macro">vec!</span>[<span class="number">20</span>]));

<span class="comment">// conditional deletion</span>
<span class="macro">assert_eq!</span>(
    <span class="ident">db</span>.<span class="ident">compare_and_swap</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>], <span class="prelude-val">Some</span>(<span class="kw-2">&amp;</span>[<span class="number">20</span>]), <span class="prelude-val">None</span> <span class="kw">as</span> <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="kw-2">&amp;</span>[<span class="ident">u8</span>]<span class="op">&gt;</span>),
    <span class="prelude-val">Ok</span>(<span class="prelude-val">Ok</span>(()))
);
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">get</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>]), <span class="prelude-val">Ok</span>(<span class="prelude-val">None</span>));</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.update_and_fetch" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#642-669">source</a></span><a href="#method.update_and_fetch" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.update_and_fetch" class="fnname">update_and_fetch</a>&lt;K, V, F&gt;(&amp;self, key: K, f: F) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;V&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;V: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a>&gt;,&nbsp;</span></h4></section></summary><div class="docblock"><p>Fetch the value, apply a function to it and return the result.</p>
<h5 id="note"><a href="#note">Note</a></h5>
<p>This may call the function multiple times if the value has been
changed from other threads in the meantime.</p>
<h5 id="examples-8"><a href="#examples-8">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">sled</span>::{<span class="ident">Config</span>, <span class="ident">Error</span>, <span class="ident">IVec</span>};
<span class="kw">use</span> <span class="ident">std::convert::TryInto</span>;

<span class="kw">let</span> <span class="ident">config</span> <span class="op">=</span> <span class="ident">Config::new</span>().<span class="ident">temporary</span>(<span class="bool-val">true</span>);
<span class="kw">let</span> <span class="ident">db</span> <span class="op">=</span> <span class="ident">config</span>.<span class="ident">open</span>()<span class="question-mark">?</span>;

<span class="kw">fn</span> <span class="ident">u64_to_ivec</span>(<span class="ident">number</span>: <span class="ident">u64</span>) -&gt; <span class="ident">IVec</span> {
    <span class="ident">IVec::from</span>(<span class="ident">number</span>.<span class="ident">to_be_bytes</span>().<span class="ident">to_vec</span>())
}

<span class="kw">let</span> <span class="ident">zero</span> <span class="op">=</span> <span class="ident">u64_to_ivec</span>(<span class="number">0</span>);
<span class="kw">let</span> <span class="ident">one</span> <span class="op">=</span> <span class="ident">u64_to_ivec</span>(<span class="number">1</span>);
<span class="kw">let</span> <span class="ident">two</span> <span class="op">=</span> <span class="ident">u64_to_ivec</span>(<span class="number">2</span>);
<span class="kw">let</span> <span class="ident">three</span> <span class="op">=</span> <span class="ident">u64_to_ivec</span>(<span class="number">3</span>);

<span class="kw">fn</span> <span class="ident">increment</span>(<span class="ident">old</span>: <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="kw-2">&amp;</span>[<span class="ident">u8</span>]<span class="op">&gt;</span>) -&gt; <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span><span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="ident">number</span> <span class="op">=</span> <span class="kw">match</span> <span class="ident">old</span> {
        <span class="prelude-val">Some</span>(<span class="ident">bytes</span>) =&gt; {
            <span class="kw">let</span> <span class="ident">array</span>: [<span class="ident">u8</span>; <span class="number">8</span>] <span class="op">=</span> <span class="ident">bytes</span>.<span class="ident">try_into</span>().<span class="ident">unwrap</span>();
            <span class="kw">let</span> <span class="ident">number</span> <span class="op">=</span> <span class="ident">u64::from_be_bytes</span>(<span class="ident">array</span>);
            <span class="ident">number</span> <span class="op">+</span> <span class="number">1</span>
        }
        <span class="prelude-val">None</span> =&gt; <span class="number">0</span>,
    };

    <span class="prelude-val">Some</span>(<span class="ident">number</span>.<span class="ident">to_be_bytes</span>().<span class="ident">to_vec</span>())
}

<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">update_and_fetch</span>(<span class="string">&quot;counter&quot;</span>, <span class="ident">increment</span>), <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>(<span class="ident">zero</span>)));
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">update_and_fetch</span>(<span class="string">&quot;counter&quot;</span>, <span class="ident">increment</span>), <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>(<span class="ident">one</span>)));
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">update_and_fetch</span>(<span class="string">&quot;counter&quot;</span>, <span class="ident">increment</span>), <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>(<span class="ident">two</span>)));
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">update_and_fetch</span>(<span class="string">&quot;counter&quot;</span>, <span class="ident">increment</span>), <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>(<span class="ident">three</span>)));</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.fetch_and_update" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#715-738">source</a></span><a href="#method.fetch_and_update" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.fetch_and_update" class="fnname">fetch_and_update</a>&lt;K, V, F&gt;(&amp;self, key: K, f: F) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;V&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;V: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a>&gt;,&nbsp;</span></h4></section></summary><div class="docblock"><p>Fetch the value, apply a function to it and return the previous value.</p>
<h5 id="note-1"><a href="#note-1">Note</a></h5>
<p>This may call the function multiple times if the value has been
changed from other threads in the meantime.</p>
<h5 id="examples-9"><a href="#examples-9">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">sled</span>::{<span class="ident">Config</span>, <span class="ident">Error</span>, <span class="ident">IVec</span>};
<span class="kw">use</span> <span class="ident">std::convert::TryInto</span>;

<span class="kw">let</span> <span class="ident">config</span> <span class="op">=</span> <span class="ident">Config::new</span>().<span class="ident">temporary</span>(<span class="bool-val">true</span>);
<span class="kw">let</span> <span class="ident">db</span> <span class="op">=</span> <span class="ident">config</span>.<span class="ident">open</span>()<span class="question-mark">?</span>;

<span class="kw">fn</span> <span class="ident">u64_to_ivec</span>(<span class="ident">number</span>: <span class="ident">u64</span>) -&gt; <span class="ident">IVec</span> {
    <span class="ident">IVec::from</span>(<span class="ident">number</span>.<span class="ident">to_be_bytes</span>().<span class="ident">to_vec</span>())
}

<span class="kw">let</span> <span class="ident">zero</span> <span class="op">=</span> <span class="ident">u64_to_ivec</span>(<span class="number">0</span>);
<span class="kw">let</span> <span class="ident">one</span> <span class="op">=</span> <span class="ident">u64_to_ivec</span>(<span class="number">1</span>);
<span class="kw">let</span> <span class="ident">two</span> <span class="op">=</span> <span class="ident">u64_to_ivec</span>(<span class="number">2</span>);

<span class="kw">fn</span> <span class="ident">increment</span>(<span class="ident">old</span>: <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="kw-2">&amp;</span>[<span class="ident">u8</span>]<span class="op">&gt;</span>) -&gt; <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span><span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="ident">number</span> <span class="op">=</span> <span class="kw">match</span> <span class="ident">old</span> {
        <span class="prelude-val">Some</span>(<span class="ident">bytes</span>) =&gt; {
            <span class="kw">let</span> <span class="ident">array</span>: [<span class="ident">u8</span>; <span class="number">8</span>] <span class="op">=</span> <span class="ident">bytes</span>.<span class="ident">try_into</span>().<span class="ident">unwrap</span>();
            <span class="kw">let</span> <span class="ident">number</span> <span class="op">=</span> <span class="ident">u64::from_be_bytes</span>(<span class="ident">array</span>);
            <span class="ident">number</span> <span class="op">+</span> <span class="number">1</span>
        }
        <span class="prelude-val">None</span> =&gt; <span class="number">0</span>,
    };

    <span class="prelude-val">Some</span>(<span class="ident">number</span>.<span class="ident">to_be_bytes</span>().<span class="ident">to_vec</span>())
}

<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">fetch_and_update</span>(<span class="string">&quot;counter&quot;</span>, <span class="ident">increment</span>), <span class="prelude-val">Ok</span>(<span class="prelude-val">None</span>));
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">fetch_and_update</span>(<span class="string">&quot;counter&quot;</span>, <span class="ident">increment</span>), <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>(<span class="ident">zero</span>)));
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">fetch_and_update</span>(<span class="string">&quot;counter&quot;</span>, <span class="ident">increment</span>), <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>(<span class="ident">one</span>)));
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">fetch_and_update</span>(<span class="string">&quot;counter&quot;</span>, <span class="ident">increment</span>), <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>(<span class="ident">two</span>)));</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.watch_prefix" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#784-786">source</a></span><a href="#method.watch_prefix" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.watch_prefix" class="fnname">watch_prefix</a>&lt;P:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;&gt;(&amp;self, prefix: P) -&gt; <a class="struct" href="struct.Subscriber.html" title="struct sled::Subscriber">Subscriber</a><span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<span class="notable-traits-tooltiptext"><span class="docblock"><span class="notable">Notable traits for <a class="struct" href="struct.Subscriber.html" title="struct sled::Subscriber">Subscriber</a></span><code class="content"><span class="where fmt-newline">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a> for <a class="struct" href="struct.Subscriber.html" title="struct sled::Subscriber">Subscriber</a></span><span class="where fmt-newline">    type <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html#associatedtype.Output" class="associatedtype">Output</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="enum.Event.html" title="enum sled::Event">Event</a>&gt;;</span><span class="where fmt-newline">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a> for <a class="struct" href="struct.Subscriber.html" title="struct sled::Subscriber">Subscriber</a></span><span class="where fmt-newline">    type <a href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html#associatedtype.Item" class="associatedtype">Item</a> = <a class="enum" href="enum.Event.html" title="enum sled::Event">Event</a>;</span></code></span></span></span></span></h4></section></summary><div class="docblock"><p>Subscribe to <code>Event</code>s that happen to keys that have
the specified prefix. Events for particular keys are
guaranteed to be witnessed in the same order by all
threads, but threads may witness different interleavings
of <code>Event</code>s across different keys. If subscribers don’t
keep up with new writes, they will cause new writes
to block. There is a buffer of 1024 items per
<code>Subscriber</code>. This can be used to build reactive
and replicated systems.</p>
<p><code>Subscriber</code> implements both <code>Iterator&lt;Item = Event&gt;</code>
and <code>Future&lt;Output=Option&lt;Event&gt;&gt;</code></p>
<h5 id="examples-10"><a href="#examples-10">Examples</a></h5>
<p>Synchronous, blocking subscriber:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="comment">// watch all events by subscribing to the empty prefix</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">subscriber</span> <span class="op">=</span> <span class="ident">db</span>.<span class="ident">watch_prefix</span>(<span class="macro">vec!</span>[]);

<span class="kw">let</span> <span class="ident">tree_2</span> <span class="op">=</span> <span class="ident">db</span>.<span class="ident">clone</span>();
<span class="kw">let</span> <span class="ident">thread</span> <span class="op">=</span> <span class="ident">std::thread::spawn</span>(<span class="kw">move</span> <span class="op">|</span><span class="op">|</span> {
    <span class="ident">db</span>.<span class="ident">insert</span>(<span class="macro">vec!</span>[<span class="number">0</span>], <span class="macro">vec!</span>[<span class="number">1</span>])
});

<span class="comment">// `Subscription` implements `Iterator&lt;Item=Event&gt;`</span>
<span class="kw">for</span> <span class="ident">event</span> <span class="kw">in</span> <span class="ident">subscriber</span>.<span class="ident">take</span>(<span class="number">1</span>) {
    <span class="kw">match</span> <span class="ident">event</span> {
        <span class="ident">sled::Event::Insert</span>{ <span class="ident">key</span>, <span class="ident">value</span> } =&gt; <span class="macro">assert_eq!</span>(<span class="ident">key</span>.<span class="ident">as_ref</span>(), <span class="kw-2">&amp;</span>[<span class="number">0</span>]),
        <span class="ident">sled::Event::Remove</span> {<span class="ident">key</span> } =&gt; {}
    }
}
</code></pre></div>
<p>Aynchronous, non-blocking subscriber:</p>
<p><code>Subscription</code> implements <code>Future&lt;Output=Option&lt;Event&gt;&gt;</code>.</p>
<p><code>while let Some(event) = (&amp;mut subscriber).await { /* use it */ }</code></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.flush" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#798-800">source</a></span><a href="#method.flush" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.flush" class="fnname">flush</a>(&amp;self) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;</h4></section></summary><div class="docblock"><p>Synchronously flushes all dirty IO buffers and calls
fsync. If this succeeds, it is guaranteed that all
previous writes will be recovered if the system
crashes. Returns the number of bytes flushed during
this call.</p>
<p>Flushing can take quite a lot of time, and you should
measure the performance impact of using it on
realistic sustained workloads running on realistic
hardware.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.flush_async" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#814-826">source</a></span><a href="#method.flush_async" class="anchor"></a><h4 class="code-header">pub async fn <a href="#method.flush_async" class="fnname">flush_async</a>(&amp;self) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;</h4></section></summary><div class="docblock"><p>Asynchronously flushes all dirty IO buffers
and calls fsync. If this succeeds, it is
guaranteed that all previous writes will
be recovered if the system crashes. Returns
the number of bytes flushed during this call.</p>
<p>Flushing can take quite a lot of time, and you
should measure the performance impact of
using it on realistic sustained workloads
running on realistic hardware.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.contains_key" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#842-844">source</a></span><a href="#method.contains_key" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.contains_key" class="fnname">contains_key</a>&lt;K:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;&gt;(&amp;self, key: K) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>&gt;</h4></section></summary><div class="docblock"><p>Returns <code>true</code> if the <code>Tree</code> contains a value for
the specified key.</p>
<h5 id="examples-11"><a href="#examples-11">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>], <span class="macro">vec!</span>[<span class="number">0</span>])<span class="question-mark">?</span>;
<span class="macro">assert!</span>(<span class="ident">db</span>.<span class="ident">contains_key</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>])<span class="question-mark">?</span>);
<span class="macro">assert!</span>(<span class="op">!</span><span class="ident">db</span>.<span class="ident">contains_key</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>])<span class="question-mark">?</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.get_lt" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#881-887">source</a></span><a href="#method.get_lt" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.get_lt" class="fnname">get_lt</a>&lt;K&gt;(&amp;self, key: K) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a>, <a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;,&nbsp;</span></h4></section></summary><div class="docblock"><p>Retrieve the key and value before the provided key,
if one exists.</p>
<h5 id="examples-12"><a href="#examples-12">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">sled::IVec</span>;
<span class="kw">for</span> <span class="ident">i</span> <span class="kw">in</span> <span class="number">0</span>..<span class="number">10</span> {
    <span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="ident">i</span>], <span class="macro">vec!</span>[<span class="ident">i</span>])
        .<span class="ident">expect</span>(<span class="string">&quot;should write successfully&quot;</span>);
}

<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">get_lt</span>(<span class="kw-2">&amp;</span>[]), <span class="prelude-val">Ok</span>(<span class="prelude-val">None</span>));
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">get_lt</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>]), <span class="prelude-val">Ok</span>(<span class="prelude-val">None</span>));
<span class="macro">assert_eq!</span>(
    <span class="ident">db</span>.<span class="ident">get_lt</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>]),
    <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>((<span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>]), <span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>]))))
);
<span class="macro">assert_eq!</span>(
    <span class="ident">db</span>.<span class="ident">get_lt</span>(<span class="kw-2">&amp;</span>[<span class="number">9</span>]),
    <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>((<span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">8</span>]), <span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">8</span>]))))
);
<span class="macro">assert_eq!</span>(
    <span class="ident">db</span>.<span class="ident">get_lt</span>(<span class="kw-2">&amp;</span>[<span class="number">10</span>]),
    <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>((<span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">9</span>]), <span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">9</span>]))))
);
<span class="macro">assert_eq!</span>(
    <span class="ident">db</span>.<span class="ident">get_lt</span>(<span class="kw-2">&amp;</span>[<span class="number">255</span>]),
    <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>((<span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">9</span>]), <span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">9</span>]))))
);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.get_gt" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#935-943">source</a></span><a href="#method.get_gt" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.get_gt" class="fnname">get_gt</a>&lt;K&gt;(&amp;self, key: K) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a>, <a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;,&nbsp;</span></h4></section></summary><div class="docblock"><p>Retrieve the next key and value from the <code>Tree</code> after the
provided key.</p>
<h5 id="note-2"><a href="#note-2">Note</a></h5>
<p>The order follows the Ord implementation for <code>Vec&lt;u8&gt;</code>:</p>
<p><code>[] &lt; [0] &lt; [255] &lt; [255, 0] &lt; [255, 255] ...</code></p>
<p>To retain the ordering of numerical types use big endian reprensentation</p>
<h5 id="examples-13"><a href="#examples-13">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">sled::IVec</span>;
<span class="kw">for</span> <span class="ident">i</span> <span class="kw">in</span> <span class="number">0</span>..<span class="number">10</span> {
    <span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="ident">i</span>], <span class="macro">vec!</span>[<span class="ident">i</span>])<span class="question-mark">?</span>;
}

<span class="macro">assert_eq!</span>(
    <span class="ident">db</span>.<span class="ident">get_gt</span>(<span class="kw-2">&amp;</span>[]),
    <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>((<span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>]), <span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>]))))
);
<span class="macro">assert_eq!</span>(
    <span class="ident">db</span>.<span class="ident">get_gt</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>]),
    <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>((<span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>]), <span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>]))))
);
<span class="macro">assert_eq!</span>(
    <span class="ident">db</span>.<span class="ident">get_gt</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>]),
    <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>((<span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">2</span>]), <span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">2</span>]))))
);
<span class="macro">assert_eq!</span>(
    <span class="ident">db</span>.<span class="ident">get_gt</span>(<span class="kw-2">&amp;</span>[<span class="number">8</span>]),
    <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>((<span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">9</span>]), <span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">9</span>]))))
);
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">get_gt</span>(<span class="kw-2">&amp;</span>[<span class="number">9</span>]), <span class="prelude-val">Ok</span>(<span class="prelude-val">None</span>));

<span class="ident">db</span>.<span class="ident">insert</span>(<span class="number">500u16</span>.<span class="ident">to_be_bytes</span>(), <span class="macro">vec!</span>[<span class="number">10</span>]);
<span class="macro">assert_eq!</span>(
    <span class="ident">db</span>.<span class="ident">get_gt</span>(<span class="kw-2">&amp;</span><span class="number">499u16</span>.<span class="ident">to_be_bytes</span>()),
    <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>((<span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span><span class="number">500u16</span>.<span class="ident">to_be_bytes</span>()), <span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">10</span>]))))
);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.merge" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#1001-1012">source</a></span><a href="#method.merge" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.merge" class="fnname">merge</a>&lt;K, V&gt;(&amp;self, key: K, value: V) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;V: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;,&nbsp;</span></h4></section></summary><div class="docblock"><p>Merge state directly into a given key’s value using the
configured merge operator. This allows state to be written
into a value directly, without any read-modify-write steps.
Merge operators can be used to implement arbitrary data
structures.</p>
<p>Calling <code>merge</code> will return an <code>Unsupported</code> error if it
is called without first setting a merge operator function.</p>
<p>Merge operators are shared by all instances of a particular
<code>Tree</code>. Different merge operators may be set on different
<code>Tree</code>s.</p>
<h5 id="examples-14"><a href="#examples-14">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">sled::IVec</span>;

<span class="kw">fn</span> <span class="ident">concatenate_merge</span>(
  <span class="ident">_key</span>: <span class="kw-2">&amp;</span>[<span class="ident">u8</span>],               <span class="comment">// the key being merged</span>
  <span class="ident">old_value</span>: <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="kw-2">&amp;</span>[<span class="ident">u8</span>]<span class="op">&gt;</span>,  <span class="comment">// the previous value, if one existed</span>
  <span class="ident">merged_bytes</span>: <span class="kw-2">&amp;</span>[<span class="ident">u8</span>]        <span class="comment">// the new bytes being merged in</span>
) -&gt; <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span><span class="op">&gt;</span> {       <span class="comment">// set the new value, return None to delete</span>
  <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">ret</span> <span class="op">=</span> <span class="ident">old_value</span>
    .<span class="ident">map</span>(<span class="op">|</span><span class="ident">ov</span><span class="op">|</span> <span class="ident">ov</span>.<span class="ident">to_vec</span>())
    .<span class="ident">unwrap_or_else</span>(<span class="op">|</span><span class="op">|</span> <span class="macro">vec!</span>[]);

  <span class="ident">ret</span>.<span class="ident">extend_from_slice</span>(<span class="ident">merged_bytes</span>);

  <span class="prelude-val">Some</span>(<span class="ident">ret</span>)
}

<span class="ident">db</span>.<span class="ident">set_merge_operator</span>(<span class="ident">concatenate_merge</span>);

<span class="kw">let</span> <span class="ident">k</span> <span class="op">=</span> <span class="string">b&quot;k1&quot;</span>;

<span class="ident">db</span>.<span class="ident">insert</span>(<span class="ident">k</span>, <span class="macro">vec!</span>[<span class="number">0</span>]);
<span class="ident">db</span>.<span class="ident">merge</span>(<span class="ident">k</span>, <span class="macro">vec!</span>[<span class="number">1</span>]);
<span class="ident">db</span>.<span class="ident">merge</span>(<span class="ident">k</span>, <span class="macro">vec!</span>[<span class="number">2</span>]);
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">get</span>(<span class="ident">k</span>), <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>(<span class="ident">IVec::from</span>(<span class="macro">vec!</span>[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>]))));

<span class="comment">// Replace previously merged data. The merge function will not be called.</span>
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="ident">k</span>, <span class="macro">vec!</span>[<span class="number">3</span>]);
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">get</span>(<span class="ident">k</span>), <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>(<span class="ident">IVec::from</span>(<span class="macro">vec!</span>[<span class="number">3</span>]))));

<span class="comment">// Merges on non-present values will cause the merge function to be called</span>
<span class="comment">// with `old_value == None`. If the merge function returns something (which it</span>
<span class="comment">// does, in this case) a new value will be inserted.</span>
<span class="ident">db</span>.<span class="ident">remove</span>(<span class="ident">k</span>);
<span class="ident">db</span>.<span class="ident">merge</span>(<span class="ident">k</span>, <span class="macro">vec!</span>[<span class="number">4</span>]);
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">get</span>(<span class="ident">k</span>), <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>(<span class="ident">IVec::from</span>(<span class="macro">vec!</span>[<span class="number">4</span>]))));</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.set_merge_operator" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#1131-1137">source</a></span><a href="#method.set_merge_operator" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.set_merge_operator" class="fnname">set_merge_operator</a>(&amp;self, merge_operator: impl <a class="trait" href="trait.MergeOperator.html" title="trait sled::MergeOperator">MergeOperator</a> + 'static)</h4></section></summary><div class="docblock"><p>Sets a merge operator for use with the <code>merge</code> function.</p>
<p>Merge state directly into a given key’s value using the
configured merge operator. This allows state to be written
into a value directly, without any read-modify-write steps.
Merge operators can be used to implement arbitrary data
structures.</p>
<h5 id="panics-2"><a href="#panics-2">Panics</a></h5>
<p>Calling <code>merge</code> will panic if no merge operator has been
configured.</p>
<h5 id="examples-15"><a href="#examples-15">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">sled::IVec</span>;

<span class="kw">fn</span> <span class="ident">concatenate_merge</span>(
  <span class="ident">_key</span>: <span class="kw-2">&amp;</span>[<span class="ident">u8</span>],               <span class="comment">// the key being merged</span>
  <span class="ident">old_value</span>: <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="kw-2">&amp;</span>[<span class="ident">u8</span>]<span class="op">&gt;</span>,  <span class="comment">// the previous value, if one existed</span>
  <span class="ident">merged_bytes</span>: <span class="kw-2">&amp;</span>[<span class="ident">u8</span>]        <span class="comment">// the new bytes being merged in</span>
) -&gt; <span class="prelude-ty">Option</span><span class="op">&lt;</span><span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span><span class="op">&gt;</span> {       <span class="comment">// set the new value, return None to delete</span>
  <span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">ret</span> <span class="op">=</span> <span class="ident">old_value</span>
    .<span class="ident">map</span>(<span class="op">|</span><span class="ident">ov</span><span class="op">|</span> <span class="ident">ov</span>.<span class="ident">to_vec</span>())
    .<span class="ident">unwrap_or_else</span>(<span class="op">|</span><span class="op">|</span> <span class="macro">vec!</span>[]);

  <span class="ident">ret</span>.<span class="ident">extend_from_slice</span>(<span class="ident">merged_bytes</span>);

  <span class="prelude-val">Some</span>(<span class="ident">ret</span>)
}

<span class="ident">db</span>.<span class="ident">set_merge_operator</span>(<span class="ident">concatenate_merge</span>);

<span class="kw">let</span> <span class="ident">k</span> <span class="op">=</span> <span class="string">b&quot;k1&quot;</span>;

<span class="ident">db</span>.<span class="ident">insert</span>(<span class="ident">k</span>, <span class="macro">vec!</span>[<span class="number">0</span>]);
<span class="ident">db</span>.<span class="ident">merge</span>(<span class="ident">k</span>, <span class="macro">vec!</span>[<span class="number">1</span>]);
<span class="ident">db</span>.<span class="ident">merge</span>(<span class="ident">k</span>, <span class="macro">vec!</span>[<span class="number">2</span>]);
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">get</span>(<span class="ident">k</span>), <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>(<span class="ident">IVec::from</span>(<span class="macro">vec!</span>[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>]))));

<span class="comment">// Replace previously merged data. The merge function will not be called.</span>
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="ident">k</span>, <span class="macro">vec!</span>[<span class="number">3</span>]);
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">get</span>(<span class="ident">k</span>), <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>(<span class="ident">IVec::from</span>(<span class="macro">vec!</span>[<span class="number">3</span>]))));

<span class="comment">// Merges on non-present values will cause the merge function to be called</span>
<span class="comment">// with `old_value == None`. If the merge function returns something (which it</span>
<span class="comment">// does, in this case) a new value will be inserted.</span>
<span class="ident">db</span>.<span class="ident">remove</span>(<span class="ident">k</span>);
<span class="ident">db</span>.<span class="ident">merge</span>(<span class="ident">k</span>, <span class="macro">vec!</span>[<span class="number">4</span>]);
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">get</span>(<span class="ident">k</span>), <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>(<span class="ident">IVec::from</span>(<span class="macro">vec!</span>[<span class="number">4</span>]))));</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.iter" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#1168-1170">source</a></span><a href="#method.iter" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.iter" class="fnname">iter</a>(&amp;self) -&gt; <a class="struct" href="struct.Iter.html" title="struct sled::Iter">Iter</a><span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<span class="notable-traits-tooltiptext"><span class="docblock"><span class="notable">Notable traits for <a class="struct" href="struct.Iter.html" title="struct sled::Iter">Iter</a></span><code class="content"><span class="where fmt-newline">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a> for <a class="struct" href="struct.Iter.html" title="struct sled::Iter">Iter</a></span><span class="where fmt-newline">    type <a href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html#associatedtype.Item" class="associatedtype">Item</a> = <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a>, <a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;;</span></code></span></span></span></span></h4></section></summary><div class="docblock"><p>Create a double-ended iterator over the tuples of keys and
values in this tree.</p>
<h5 id="examples-16"><a href="#examples-16">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">sled::IVec</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>], <span class="macro">vec!</span>[<span class="number">10</span>]);
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">2</span>], <span class="macro">vec!</span>[<span class="number">20</span>]);
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">3</span>], <span class="macro">vec!</span>[<span class="number">30</span>]);
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">iter</span> <span class="op">=</span> <span class="ident">db</span>.<span class="ident">iter</span>();
<span class="macro">assert_eq!</span>(
    <span class="ident">iter</span>.<span class="ident">next</span>().<span class="ident">unwrap</span>(),
    <span class="prelude-val">Ok</span>((<span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>]), <span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">10</span>])))
);
<span class="macro">assert_eq!</span>(
    <span class="ident">iter</span>.<span class="ident">next</span>().<span class="ident">unwrap</span>(),
    <span class="prelude-val">Ok</span>((<span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">2</span>]), <span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">20</span>])))
);
<span class="macro">assert_eq!</span>(
    <span class="ident">iter</span>.<span class="ident">next</span>().<span class="ident">unwrap</span>(),
    <span class="prelude-val">Ok</span>((<span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">3</span>]), <span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">30</span>])))
);
<span class="macro">assert_eq!</span>(<span class="ident">iter</span>.<span class="ident">next</span>(), <span class="prelude-val">None</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.range" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#1202-1234">source</a></span><a href="#method.range" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.range" class="fnname">range</a>&lt;K, R&gt;(&amp;self, range: R) -&gt; <a class="struct" href="struct.Iter.html" title="struct sled::Iter">Iter</a><span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<span class="notable-traits-tooltiptext"><span class="docblock"><span class="notable">Notable traits for <a class="struct" href="struct.Iter.html" title="struct sled::Iter">Iter</a></span><code class="content"><span class="where fmt-newline">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a> for <a class="struct" href="struct.Iter.html" title="struct sled::Iter">Iter</a></span><span class="where fmt-newline">    type <a href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html#associatedtype.Item" class="associatedtype">Item</a> = <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a>, <a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;;</span></code></span></span></span></span> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/range/trait.RangeBounds.html" title="trait core::ops::range::RangeBounds">RangeBounds</a>&lt;K&gt;,&nbsp;</span></h4></section></summary><div class="docblock"><p>Create a double-ended iterator over tuples of keys and values,
where the keys fall within the specified range.</p>
<h5 id="examples-17"><a href="#examples-17">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">sled::IVec</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>], <span class="macro">vec!</span>[<span class="number">0</span>])<span class="question-mark">?</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>], <span class="macro">vec!</span>[<span class="number">10</span>])<span class="question-mark">?</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">2</span>], <span class="macro">vec!</span>[<span class="number">20</span>])<span class="question-mark">?</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">3</span>], <span class="macro">vec!</span>[<span class="number">30</span>])<span class="question-mark">?</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">4</span>], <span class="macro">vec!</span>[<span class="number">40</span>])<span class="question-mark">?</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">5</span>], <span class="macro">vec!</span>[<span class="number">50</span>])<span class="question-mark">?</span>;

<span class="kw">let</span> <span class="ident">start</span>: <span class="kw-2">&amp;</span>[<span class="ident">u8</span>] <span class="op">=</span> <span class="kw-2">&amp;</span>[<span class="number">2</span>];
<span class="kw">let</span> <span class="ident">end</span>: <span class="kw-2">&amp;</span>[<span class="ident">u8</span>] <span class="op">=</span> <span class="kw-2">&amp;</span>[<span class="number">4</span>];
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">r</span> <span class="op">=</span> <span class="ident">db</span>.<span class="ident">range</span>(<span class="ident">start</span>..<span class="ident">end</span>);
<span class="macro">assert_eq!</span>(<span class="ident">r</span>.<span class="ident">next</span>().<span class="ident">unwrap</span>(), <span class="prelude-val">Ok</span>((<span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">2</span>]), <span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">20</span>]))));
<span class="macro">assert_eq!</span>(<span class="ident">r</span>.<span class="ident">next</span>().<span class="ident">unwrap</span>(), <span class="prelude-val">Ok</span>((<span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">3</span>]), <span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">30</span>]))));
<span class="macro">assert_eq!</span>(<span class="ident">r</span>.<span class="ident">next</span>(), <span class="prelude-val">None</span>);

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">r</span> <span class="op">=</span> <span class="ident">db</span>.<span class="ident">range</span>(<span class="ident">start</span>..<span class="ident">end</span>).<span class="ident">rev</span>();
<span class="macro">assert_eq!</span>(<span class="ident">r</span>.<span class="ident">next</span>().<span class="ident">unwrap</span>(), <span class="prelude-val">Ok</span>((<span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">3</span>]), <span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">30</span>]))));
<span class="macro">assert_eq!</span>(<span class="ident">r</span>.<span class="ident">next</span>().<span class="ident">unwrap</span>(), <span class="prelude-val">Ok</span>((<span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">2</span>]), <span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">20</span>]))));
<span class="macro">assert_eq!</span>(<span class="ident">r</span>.<span class="ident">next</span>(), <span class="prelude-val">None</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.scan_prefix" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#1274-1289">source</a></span><a href="#method.scan_prefix" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.scan_prefix" class="fnname">scan_prefix</a>&lt;P&gt;(&amp;self, prefix: P) -&gt; <a class="struct" href="struct.Iter.html" title="struct sled::Iter">Iter</a><span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<span class="notable-traits-tooltiptext"><span class="docblock"><span class="notable">Notable traits for <a class="struct" href="struct.Iter.html" title="struct sled::Iter">Iter</a></span><code class="content"><span class="where fmt-newline">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a> for <a class="struct" href="struct.Iter.html" title="struct sled::Iter">Iter</a></span><span class="where fmt-newline">    type <a href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html#associatedtype.Item" class="associatedtype">Item</a> = <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a>, <a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;;</span></code></span></span></span></span> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;P: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>&gt;,&nbsp;</span></h4></section></summary><div class="docblock"><p>Create an iterator over tuples of keys and values,
where the all the keys starts with the given prefix.</p>
<h5 id="examples-18"><a href="#examples-18">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use</span> <span class="ident">sled::IVec</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], <span class="macro">vec!</span>[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>])<span class="question-mark">?</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>], <span class="macro">vec!</span>[<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>])<span class="question-mark">?</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span>], <span class="macro">vec!</span>[<span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span>])<span class="question-mark">?</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>], <span class="macro">vec!</span>[<span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>])<span class="question-mark">?</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>], <span class="macro">vec!</span>[<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>])<span class="question-mark">?</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>], <span class="macro">vec!</span>[<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>])<span class="question-mark">?</span>;

<span class="kw">let</span> <span class="ident">prefix</span>: <span class="kw-2">&amp;</span>[<span class="ident">u8</span>] <span class="op">=</span> <span class="kw-2">&amp;</span>[<span class="number">0</span>, <span class="number">0</span>];
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">r</span> <span class="op">=</span> <span class="ident">db</span>.<span class="ident">scan_prefix</span>(<span class="ident">prefix</span>);
<span class="macro">assert_eq!</span>(
    <span class="ident">r</span>.<span class="ident">next</span>(),
    <span class="prelude-val">Some</span>(<span class="prelude-val">Ok</span>((<span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]), <span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]))))
);
<span class="macro">assert_eq!</span>(
    <span class="ident">r</span>.<span class="ident">next</span>(),
    <span class="prelude-val">Some</span>(<span class="prelude-val">Ok</span>((<span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]), <span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]))))
);
<span class="macro">assert_eq!</span>(
    <span class="ident">r</span>.<span class="ident">next</span>(),
    <span class="prelude-val">Some</span>(<span class="prelude-val">Ok</span>((<span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span>]), <span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>, <span class="number">0</span>, <span class="number">2</span>]))))
);
<span class="macro">assert_eq!</span>(
    <span class="ident">r</span>.<span class="ident">next</span>(),
    <span class="prelude-val">Some</span>(<span class="prelude-val">Ok</span>((<span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>]), <span class="ident">IVec::from</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>]))))
);
<span class="macro">assert_eq!</span>(<span class="ident">r</span>.<span class="ident">next</span>(), <span class="prelude-val">None</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.first" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#1293-1295">source</a></span><a href="#method.first" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.first" class="fnname">first</a>(&amp;self) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a>, <a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Returns the first key and value in the <code>Tree</code>, or
<code>None</code> if the <code>Tree</code> is empty.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.last" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#1299-1301">source</a></span><a href="#method.last" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.last" class="fnname">last</a>(&amp;self) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a>, <a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Returns the last key and value in the <code>Tree</code>, or
<code>None</code> if the <code>Tree</code> is empty.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.pop_max" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#1327-1346">source</a></span><a href="#method.pop_max" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.pop_max" class="fnname">pop_max</a>(&amp;self) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a>, <a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Atomically removes the maximum item in the <code>Tree</code> instance.</p>
<h5 id="examples-19"><a href="#examples-19">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>], <span class="macro">vec!</span>[<span class="number">0</span>])<span class="question-mark">?</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>], <span class="macro">vec!</span>[<span class="number">10</span>])<span class="question-mark">?</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">2</span>], <span class="macro">vec!</span>[<span class="number">20</span>])<span class="question-mark">?</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">3</span>], <span class="macro">vec!</span>[<span class="number">30</span>])<span class="question-mark">?</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">4</span>], <span class="macro">vec!</span>[<span class="number">40</span>])<span class="question-mark">?</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">5</span>], <span class="macro">vec!</span>[<span class="number">50</span>])<span class="question-mark">?</span>;

<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="ident">db</span>.<span class="ident">pop_max</span>()<span class="question-mark">?</span>.<span class="ident">unwrap</span>().<span class="number">0</span>, <span class="kw-2">&amp;</span>[<span class="number">5</span>]);
<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="ident">db</span>.<span class="ident">pop_max</span>()<span class="question-mark">?</span>.<span class="ident">unwrap</span>().<span class="number">0</span>, <span class="kw-2">&amp;</span>[<span class="number">4</span>]);
<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="ident">db</span>.<span class="ident">pop_max</span>()<span class="question-mark">?</span>.<span class="ident">unwrap</span>().<span class="number">0</span>, <span class="kw-2">&amp;</span>[<span class="number">3</span>]);
<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="ident">db</span>.<span class="ident">pop_max</span>()<span class="question-mark">?</span>.<span class="ident">unwrap</span>().<span class="number">0</span>, <span class="kw-2">&amp;</span>[<span class="number">2</span>]);
<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="ident">db</span>.<span class="ident">pop_max</span>()<span class="question-mark">?</span>.<span class="ident">unwrap</span>().<span class="number">0</span>, <span class="kw-2">&amp;</span>[<span class="number">1</span>]);
<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="ident">db</span>.<span class="ident">pop_max</span>()<span class="question-mark">?</span>.<span class="ident">unwrap</span>().<span class="number">0</span>, <span class="kw-2">&amp;</span>[<span class="number">0</span>]);
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">pop_max</span>()<span class="question-mark">?</span>, <span class="prelude-val">None</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.pop_min" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#1372-1391">source</a></span><a href="#method.pop_min" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.pop_min" class="fnname">pop_min</a>(&amp;self) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a>, <a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Atomically removes the minimum item in the <code>Tree</code> instance.</p>
<h5 id="examples-20"><a href="#examples-20">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">0</span>], <span class="macro">vec!</span>[<span class="number">0</span>])<span class="question-mark">?</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">1</span>], <span class="macro">vec!</span>[<span class="number">10</span>])<span class="question-mark">?</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">2</span>], <span class="macro">vec!</span>[<span class="number">20</span>])<span class="question-mark">?</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">3</span>], <span class="macro">vec!</span>[<span class="number">30</span>])<span class="question-mark">?</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">4</span>], <span class="macro">vec!</span>[<span class="number">40</span>])<span class="question-mark">?</span>;
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="kw-2">&amp;</span>[<span class="number">5</span>], <span class="macro">vec!</span>[<span class="number">50</span>])<span class="question-mark">?</span>;

<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="ident">db</span>.<span class="ident">pop_min</span>()<span class="question-mark">?</span>.<span class="ident">unwrap</span>().<span class="number">0</span>, <span class="kw-2">&amp;</span>[<span class="number">0</span>]);
<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="ident">db</span>.<span class="ident">pop_min</span>()<span class="question-mark">?</span>.<span class="ident">unwrap</span>().<span class="number">0</span>, <span class="kw-2">&amp;</span>[<span class="number">1</span>]);
<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="ident">db</span>.<span class="ident">pop_min</span>()<span class="question-mark">?</span>.<span class="ident">unwrap</span>().<span class="number">0</span>, <span class="kw-2">&amp;</span>[<span class="number">2</span>]);
<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="ident">db</span>.<span class="ident">pop_min</span>()<span class="question-mark">?</span>.<span class="ident">unwrap</span>().<span class="number">0</span>, <span class="kw-2">&amp;</span>[<span class="number">3</span>]);
<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="ident">db</span>.<span class="ident">pop_min</span>()<span class="question-mark">?</span>.<span class="ident">unwrap</span>().<span class="number">0</span>, <span class="kw-2">&amp;</span>[<span class="number">4</span>]);
<span class="macro">assert_eq!</span>(<span class="kw-2">&amp;</span><span class="ident">db</span>.<span class="ident">pop_min</span>()<span class="question-mark">?</span>.<span class="ident">unwrap</span>().<span class="number">0</span>, <span class="kw-2">&amp;</span>[<span class="number">5</span>]);
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">pop_min</span>()<span class="question-mark">?</span>, <span class="prelude-val">None</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.len" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#1408-1410">source</a></span><a href="#method.len" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.len" class="fnname">len</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></h4></section></summary><div class="docblock"><p>Returns the number of elements in this tree.</p>
<p>Beware: performs a full O(n) scan under the hood.</p>
<h5 id="examples-21"><a href="#examples-21">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="ident">db</span>.<span class="ident">insert</span>(<span class="string">b&quot;a&quot;</span>, <span class="macro">vec!</span>[<span class="number">0</span>]);
<span class="ident">db</span>.<span class="ident">insert</span>(<span class="string">b&quot;b&quot;</span>, <span class="macro">vec!</span>[<span class="number">1</span>]);
<span class="macro">assert_eq!</span>(<span class="ident">db</span>.<span class="ident">len</span>(), <span class="number">2</span>);</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.is_empty" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#1413-1415">source</a></span><a href="#method.is_empty" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.is_empty" class="fnname">is_empty</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns <code>true</code> if the <code>Tree</code> contains no elements.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.clear" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#1420-1426">source</a></span><a href="#method.clear" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.clear" class="fnname">clear</a>(&amp;self) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Clears the <code>Tree</code>, removing all values.</p>
<p>Note that this is not atomic.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.name" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#1429-1431">source</a></span><a href="#method.name" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.name" class="fnname">name</a>(&amp;self) -&gt; <a class="struct" href="struct.IVec.html" title="struct sled::IVec">IVec</a></h4></section></summary><div class="docblock"><p>Returns the name of the tree.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.checksum-1" class="method has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/tree.rs.html#1438-1448">source</a></span><a href="#method.checksum-1" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.checksum-1" class="fnname">checksum</a>(&amp;self) -&gt; <a class="type" href="type.Result.html" title="type sled::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>&gt;</h4></section></summary><div class="docblock"><p>Returns the CRC32 of all keys and values
in this Tree.</p>
<p>This is O(N) and locks the underlying tree
for the duration of the entire scan.</p>
</div></details></div></div><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor"></a></h2><div id="trait-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-Clone" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/db.rs.html#8">source</a></span><a href="#impl-Clone" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> for <a class="struct" href="struct.Db.html" title="struct sled::Db">Db</a></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.clone" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/db.rs.html#8">source</a></span><a href="#method.clone" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone" class="fnname">clone</a>(&amp;self) -&gt; <a class="struct" href="struct.Db.html" title="struct sled::Db">Db</a></h4></section></summary><div class='docblock'><p>Returns a copy of the value. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.clone_from" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/clone.rs.html#131-133">source</a></span><a href="#method.clone_from" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from" class="fnname">clone_from</a>(&amp;mut self, source: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>Self)</h4></section></summary><div class='docblock'><p>Performs copy-assignment from <code>source</code>. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-Debug" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/db.rs.html#42-58">source</a></span><a href="#impl-Debug" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="struct.Db.html" title="struct sled::Db">Db</a></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.fmt" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/db.rs.html#43-57">source</a></span><a href="#method.fmt" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt" class="fnname">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/core/fmt/struct.Error.html" title="struct core::fmt::Error">Error</a>&gt;</h4></section></summary><div class='docblock'><p>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-Deref" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/db.rs.html#34-40">source</a></span><a href="#impl-Deref" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/deref/trait.Deref.html" title="trait core::ops::deref::Deref">Deref</a> for <a class="struct" href="struct.Db.html" title="struct sled::Db">Db</a></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Target" class="type trait-impl has-srclink"><a href="#associatedtype.Target" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/ops/deref/trait.Deref.html#associatedtype.Target" class="associatedtype">Target</a> = <a class="struct" href="struct.Tree.html" title="struct sled::Tree">Tree</a></h4></section></summary><div class='docblock'><p>The resulting type after dereferencing.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.deref" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/db.rs.html#37-39">source</a></span><a href="#method.deref" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/ops/deref/trait.Deref.html#tymethod.deref" class="fnname">deref</a>(&amp;self) -&gt; &amp;<a class="struct" href="struct.Tree.html" title="struct sled::Tree">Tree</a></h4></section></summary><div class='docblock'><p>Dereferences the value.</p>
</div></details></div></details><section id="impl-Send" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/db.rs.html#29">source</a></span><a href="#impl-Send" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.Db.html" title="struct sled::Db">Db</a></h3></section><section id="impl-Sync" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../src/sled/db.rs.html#32">source</a></span><a href="#impl-Sync" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.Db.html" title="struct sled::Db">Db</a></h3></section></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor"></a></h2><div id="synthetic-implementations-list"><section id="impl-RefUnwindSafe" class="impl has-srclink"><a href="#impl-RefUnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.Db.html" title="struct sled::Db">Db</a></h3></section><section id="impl-Unpin" class="impl has-srclink"><a href="#impl-Unpin" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.Db.html" title="struct sled::Db">Db</a></h3></section><section id="impl-UnwindSafe" class="impl has-srclink"><a href="#impl-UnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.Db.html" title="struct sled::Db">Db</a></h3></section></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor"></a></h2><div id="blanket-implementations-list"><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Any" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#132-136">source</a></span><a href="#impl-Any" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#133">source</a></span><a href="#method.type_id" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id" class="fnname">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'><p>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#209-214">source</a></span><a href="#impl-Borrow%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#211">source</a></span><a href="#method.borrow" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow" class="fnname">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>T</h4></section></summary><div class='docblock'><p>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#218-222">source</a></span><a href="#impl-BorrowMut%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#219">source</a></span><a href="#method.borrow_mut" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fnname">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>T</h4></section></summary><div class='docblock'><p>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-From%3CT%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#557-562">source</a></span><a href="#impl-From%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.from" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#559">source</a></span><a href="#method.from" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html#tymethod.from" class="fnname">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#541-552">source</a></span><a href="#impl-Into%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.into" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#549">source</a></span><a href="#method.into" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html#tymethod.into" class="fnname">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Pointable" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../src/crossbeam_epoch/atomic.rs.html#194-214">source</a></span><a href="#impl-Pointable" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="../crossbeam_epoch/atomic/trait.Pointable.html" title="trait crossbeam_epoch::atomic::Pointable">Pointable</a> for T</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedconstant.ALIGN" class="associatedconstant trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../src/crossbeam_epoch/atomic.rs.html#195">source</a></span><a href="#associatedconstant.ALIGN" class="anchor"></a><h4 class="code-header">const <a href="../crossbeam_epoch/atomic/trait.Pointable.html#associatedconstant.ALIGN" class="constant">ALIGN</a>: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></h4></section></summary><div class='docblock'><p>The alignment of pointer.</p>
</div></details><details class="rustdoc-toggle" open><summary><section id="associatedtype.Init" class="type trait-impl has-srclink"><a href="#associatedtype.Init" class="anchor"></a><h4 class="code-header">type <a href="../crossbeam_epoch/atomic/trait.Pointable.html#associatedtype.Init" class="associatedtype">Init</a> = T</h4></section></summary><div class='docblock'><p>The type for initializers.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.init" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../src/crossbeam_epoch/atomic.rs.html#199">source</a></span><a href="#method.init" class="anchor"></a><h4 class="code-header">unsafe fn <a href="../crossbeam_epoch/atomic/trait.Pointable.html#tymethod.init" class="fnname">init</a>(init: &lt;T as <a class="trait" href="../crossbeam_epoch/atomic/trait.Pointable.html" title="trait crossbeam_epoch::atomic::Pointable">Pointable</a>&gt;::<a class="associatedtype" href="../crossbeam_epoch/atomic/trait.Pointable.html#associatedtype.Init" title="type crossbeam_epoch::atomic::Pointable::Init">Init</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></h4></section></summary><div class='docblock'><p>Initializes a with the given initializer. <a href="../crossbeam_epoch/atomic/trait.Pointable.html#tymethod.init">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.deref-1" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../src/crossbeam_epoch/atomic.rs.html#203">source</a></span><a href="#method.deref-1" class="anchor"></a><h4 class="code-header">unsafe fn <a href="../crossbeam_epoch/atomic/trait.Pointable.html#tymethod.deref" class="fnname">deref</a>&lt;'a&gt;(ptr: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a </a>T</h4></section></summary><div class='docblock'><p>Dereferences the given pointer. <a href="../crossbeam_epoch/atomic/trait.Pointable.html#tymethod.deref">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.deref_mut" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../src/crossbeam_epoch/atomic.rs.html#207">source</a></span><a href="#method.deref_mut" class="anchor"></a><h4 class="code-header">unsafe fn <a href="../crossbeam_epoch/atomic/trait.Pointable.html#tymethod.deref_mut" class="fnname">deref_mut</a>&lt;'a&gt;(ptr: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut </a>T</h4></section></summary><div class='docblock'><p>Mutably dereferences the given pointer. <a href="../crossbeam_epoch/atomic/trait.Pointable.html#tymethod.deref_mut">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.drop" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../src/crossbeam_epoch/atomic.rs.html#211">source</a></span><a href="#method.drop" class="anchor"></a><h4 class="code-header">unsafe fn <a href="../crossbeam_epoch/atomic/trait.Pointable.html#tymethod.drop" class="fnname">drop</a>(ptr: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>)</h4></section></summary><div class='docblock'><p>Drops the object pointed to by the given pointer. <a href="../crossbeam_epoch/atomic/trait.Pointable.html#tymethod.drop">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-ToOwned" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/alloc/borrow.rs.html#84-96">source</a></span><a href="#impl-ToOwned" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html" title="trait alloc::borrow::ToOwned">ToOwned</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Owned" class="type trait-impl has-srclink"><a href="#associatedtype.Owned" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#associatedtype.Owned" class="associatedtype">Owned</a> = T</h4></section></summary><div class='docblock'><p>The resulting type after obtaining ownership.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.to_owned" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/alloc/borrow.rs.html#89">source</a></span><a href="#method.to_owned" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#tymethod.to_owned" class="fnname">to_owned</a>(&amp;self) -&gt; T</h4></section></summary><div class='docblock'><p>Creates owned data from borrowed data, usually by cloning. <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#tymethod.to_owned">Read more</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.clone_into" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/alloc/borrow.rs.html#93">source</a></span><a href="#method.clone_into" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#method.clone_into" class="fnname">clone_into</a>(&amp;self, target: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>T)</h4></section></summary><div class="item-info"><div class="stab unstable"><span class="emoji">🔬</span> This is a nightly-only experimental API. (<code>toowned_clone_into</code>)</div></div><div class='docblock'><p>Uses borrowed data to replace owned data, usually by cloning. <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#method.clone_into">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#598-607">source</a></span><a href="#impl-TryFrom%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Error-1" class="type trait-impl has-srclink"><a href="#associatedtype.Error-1" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#604">source</a></span><a href="#method.try_from" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#tymethod.try_from" class="fnname">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#583-592">source</a></span><a href="#impl-TryInto%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Error" class="type trait-impl has-srclink"><a href="#associatedtype.Error" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#589">source</a></span><a href="#method.try_into" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#tymethod.try_into" class="fnname">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="sled" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.61.0-nightly (3c17c84a3 2022-03-21)" ></div>
</body></html>